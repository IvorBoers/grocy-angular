<div>
  <mat-form-field class="example-form-field">
    <mat-label>Searchterm</mat-label>
    <input matInput type="text" [(ngModel)]="query" (keyup.enter)="searchRecipe()">
    <button *ngIf="query" matSuffix mat-icon-button aria-label="Clear" (click)="query=''">
      <mat-icon>close</mat-icon>
    </button>
  </mat-form-field>
  <button mat-raised-button (click)="searchRecipe()" color="primary">Search
    <mat-icon>search</mat-icon>
  </button>
</div>
<div class="results-container">
  <div class="results-list">
    <mat-spinner *ngIf="loading"></mat-spinner>
    <div class="summary-table-container" *ngIf="!loading && dataSource && dataSource.data.length>0">

      <table mat-table [dataSource]="dataSource">
        <ng-container matColumnDef="image">
          <td mat-cell *matCellDef="let element"><img *ngIf="element.imageInfo && element.imageInfo.primaryView"
                                                      src="{{element.imageInfo.primaryView[0].url}}" alt="recipe image" height="100px"></td>
        </ng-container>

        <ng-container matColumnDef="name">
          <td mat-cell *matCellDef="let element"><strong>{{element.name}}</strong><br/>
            <mat-icon>kitchen</mat-icon>
            {{element.numberOfIngredients}}
            <mat-icon>schedule</mat-icon>
            {{element.cookingTime}} </td>
        </ng-container>

        <tr mat-row *matRowDef="let row; columns: displayedColumns;" [ngClass]="{'selected': selection.isSelected(row)}"
            (click)="selection.select(row)"></tr>
      </table>
      <mat-paginator [pageSizeOptions]="[5, 10, 25, 100]" [pageSize]="10"></mat-paginator>
    </div>
    <div *ngIf="!loading && (!dataSource || (dataSource && dataSource.data.length == 0))">
      Geen resultaten
    </div>
  </div>
  <div class="detail-container">
    <app-jumbo-recipe-detail [item]="detail" [grocyProductsByJumboId]="grocyProductsByJumboId"></app-jumbo-recipe-detail>
  </div>
</div>
